<script src="./teowebtransport.js"></script>
<script>
    const teowebtransport = new TeoWebtransport();
    teowebtransport.connect(
        "https://asuzs.teonet.dev:4433/wt",
        () => {
            console.log("connected");
            teowebtransport.sendCmd("hello/me");

            // Send some test commands
            for (let i = 0; i < 10; i++) {
                const msg = "привет message " + i;
                const name = Array(10)
                    .fill('')
                    .map((v, i, a) => String.fromCharCode(1040 + Math.floor(Math.random() * 33)))
                    .join('')
                    .toLowerCase();
                const upperCaseName = name[0].toUpperCase() + name.slice(1);
                teowebtransport.sendCmd("hello/" + upperCaseName, msg);
            }
        },
        () => {
            console.log("disconnected");
        },
        (msg) => {
            const decoder = new TextDecoder();
        },
    );
</script>